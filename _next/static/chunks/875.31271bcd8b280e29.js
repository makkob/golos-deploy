"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[875],{3257:function(t,i,s){s.d(i,{H:function(){return n},R:function(){return a}});var e=s(2760),h=s(4224);class a{constructor(t){this.Yg=t}hc(){(0,e.i)(this.uc)&&this.Xj()}ic(){(0,e.h)(this.uc)&&window.cancelAnimationFrame(this.uc),this.uc=void 0}Xj(){this.uc=window.requestAnimationFrame(()=>{(0,e.i)(this.uc)||(this.Yg(),this.Xj())})}}class r{constructor(t,i){this.Lb=t,this.fg=i,this.Qi=(0,e.u)(),this.uj=!1,this.wj=!1,this.xj=!1,this.vj=new a(this.Aj.bind(this)),this.Bj=void 0,this.Vj=void 0,this.Cj(),(0,e.e)(this.Dj.bind(this)),(0,e.o)(this.Si.bind(this))}get Ba(){return this.Lb.media}get Kb(){return this.fg.delegate.Kb}Si(){this.wj=!1,this.xj=!1,this.vj.ic(),this.Qi.empty()}Aj(){let t=this.Lb.currentTime;this.fg.$state.currentTime()!==t&&this.tj(t)}Cj(){this.sj("loadstart",this.If),this.sj("abort",this.zj),this.sj("emptied",this.Ej),this.sj("error",this.md)}Fj(){this.wj||(this.Qi.add(this.sj("loadeddata",this.Gj),this.sj("loadedmetadata",this.Hj),this.sj("canplay",this.fd),this.sj("canplaythrough",this.Ij),this.sj("durationchange",this.Jj),this.sj("play",this.la),this.sj("progress",this.ug),this.sj("stalled",this.Kj),this.sj("suspend",this.Lj)),this.wj=!0)}Mj(){this.xj||(this.Qi.add(this.sj("pause",this.ma),this.sj("playing",this.Nj),this.sj("ratechange",this.Oj),this.sj("seeked",this.Pj),this.sj("seeking",this.Qj),this.sj("ended",this.Rj),this.sj("volumechange",this.td),this.sj("waiting",this.Sj)),this.xj=!0)}sj(t,i){return(0,e.l)(this.Ba,t,i.bind(this))}Wj(t){}tj(t,i){let s={currentTime:Math.min(t,this.fg.$state.seekableEnd()),played:this.Ba.played};this.Kb("time-update",s,i)}If(t){if(3===this.Ba.networkState){this.zj(t);return}this.Fj(),this.Kb("load-start",void 0,t)}zj(t){this.Kb("abort",void 0,t)}Ej(){this.Kb("emptied",void 0,event)}Gj(t){this.Kb("loaded-data",void 0,t)}Hj(t){this.Mj(),this.Kb("volume-change",{volume:this.Ba.volume,muted:this.Ba.muted},t),this.Kb("loaded-metadata",void 0,t),h.h&&(0,h.j)(this.fg.$state.source())&&this.fg.delegate.Hg(this.yj(),t)}yj(){return{provider:(0,e.p)(this.fg.$provider),duration:this.Ba.duration,buffered:this.Ba.buffered,seekable:this.Ba.seekable}}la(t){this.fg.$state.canPlay&&this.Kb("play",void 0,t)}ma(t){(1!==this.Ba.readyState||this.uj)&&(this.uj=!1,this.vj.ic(),this.Kb("pause",void 0,t))}fd(t){this.fg.delegate.Hg(this.yj(),t)}Ij(t){this.fg.$state.started()||this.Kb("can-play-through",this.yj(),t)}Nj(t){this.uj=!1,this.Kb("playing",void 0,t),this.vj.hc()}Kj(t){this.Kb("stalled",void 0,t),this.Ba.readyState<3&&(this.uj=!0,this.Kb("waiting",void 0,t))}Sj(t){this.Ba.readyState<3&&(this.uj=!0,this.Kb("waiting",void 0,t))}Rj(t){this.vj.ic(),this.tj(this.Ba.duration,t),this.Kb("end",void 0,t),this.fg.$state.loop()?this.Tj():this.Kb("ended",void 0,t)}Dj(){this.fg.$state.paused()&&(0,e.l)(this.Ba,"timeupdate",this.Uj.bind(this))}Uj(t){this.tj(this.Ba.currentTime,t)}Jj(t){this.fg.$state.ended()&&this.tj(this.Ba.duration,t),this.Kb("duration-change",this.Ba.duration,t)}td(t){let i={volume:this.Ba.volume,muted:this.Ba.muted};this.Kb("volume-change",i,t)}Pj(t){this.tj(this.Ba.currentTime,t),this.Kb("seeked",this.Ba.currentTime,t),Math.trunc(this.Ba.currentTime)===Math.trunc(this.Ba.duration)&&(0,h.k)(this.Ba.duration)>(0,h.k)(this.Ba.currentTime)&&(this.tj(this.Ba.duration,t),this.Ba.ended||this.fg.player.dispatch(new e.D("media-play-request",{trigger:t})))}Qj(t){this.Kb("seeking",this.Ba.currentTime,t)}ug(t){let i={buffered:this.Ba.buffered,seekable:this.Ba.seekable};this.Kb("progress",i,t)}Tj(){let t=(0,e.m)(this.Ba.controls);t&&(this.Ba.controls=!1),this.fg.player.dispatch(new e.D("media-loop-request"))}Lj(t){this.Kb("suspend",void 0,t)}Oj(t){this.Kb("rate-change",this.Ba.playbackRate,t)}md(t){let i=this.Ba.error;if(!i)return;let s={message:i.message,code:i.code,mediaError:i};this.Kb("error",s,t)}}class d{constructor(t,i){this.Lb=t,this.fg=i,this.mj.onaddtrack=this.oj.bind(this),this.mj.onremovetrack=this.pj.bind(this),this.mj.onchange=this.qj.bind(this),(0,e.l)(this.fg.audioTracks,"change",this.rj.bind(this))}get mj(){return this.Lb.media.audioTracks}oj(t){let i=t.track;if(""===i.label)return;let s={id:i.id+"",label:i.label,language:i.language,kind:i.kind,selected:!1};this.fg.audioTracks[h.L.h](s,t),i.enabled&&(s.selected=!0)}pj(t){let i=this.fg.audioTracks.getById(t.track.id);i&&this.fg.audioTracks[h.L.f](i,t)}qj(t){let i=this.nj();if(!i)return;let s=this.fg.audioTracks.getById(i.id);s&&this.fg.audioTracks[h.L.$](s,!0,t)}nj(){return Array.from(this.mj).find(t=>t.enabled)}rj(t){let{current:i}=t.detail;if(!i)return;let s=this.mj.getTrackById(i.id);if(s){let t=this.nj();t&&(t.enabled=!1),s.enabled=!0}}}class n{constructor(t){this.Ba=t,this.scope=(0,e.d)(),this.qg=null}setup(t){new r(this,t),"audioTracks"in this.media&&new d(this,t),(0,e.o)(()=>{this.Ba.setAttribute("src",""),this.Ba.load()})}get type(){return""}get media(){return this.Ba}get currentSrc(){return this.qg}get paused(){return this.Ba.paused}get muted(){return this.Ba.muted}set muted(t){this.Ba.muted=t}get volume(){return this.Ba.volume}set volume(t){this.Ba.volume=t}get currentTime(){return this.Ba.currentTime}set currentTime(t){this.Ba.currentTime=t}get playsinline(){return this.Ba.hasAttribute("playsinline")}set playsinline(t){(0,e.n)(this.Ba,"playsinline",t)}get playbackRate(){return this.Ba.playbackRate}set playbackRate(t){this.Ba.playbackRate=t}async play(){return this.Ba.play()}async pause(){return this.Ba.pause()}async loadSource({src:t,type:i},s){this.Ba.preload=s||"",(0,h.m)(t)?this.Ba.srcObject=t:(this.Ba.srcObject=null,this.Ba.src=(0,e.a)(t)?t:window.URL.createObjectURL(t)),this.Ba.load(),this.qg={src:t,type:i}}}},5875:function(t,i,s){s.r(i),s.d(i,{AudioProvider:function(){return h}});var e=s(3257);s(2265),s(4887);class h extends e.H{constructor(){super(...arguments),this.$$PROVIDER_TYPE="AUDIO"}get type(){return"audio"}setup(t){super.setup(t),"audio"===this.type&&t.delegate.Kb("provider-setup",this)}get audio(){return this.Ba}}}}]);