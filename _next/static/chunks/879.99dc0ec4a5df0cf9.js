"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[879],{4924:function(t,i,s){s.d(i,{R:function(){return h}});var e=s(9669);class h{constructor(t){this.xh=t}nc(){(0,e.i)(this.Ac)&&this.Nj()}oc(){(0,e.a)(this.Ac)&&window.cancelAnimationFrame(this.Ac),this.Ac=void 0}Nj(){this.Ac=window.requestAnimationFrame(()=>{(0,e.i)(this.Ac)||(this.xh(),this.Nj())})}}},688:function(t,i,s){s.d(i,{H:function(){return n}});var e=s(9669),h=s(4915),a=s(4924);class r{constructor(t,i){this.Qb=t,this.og=i,this.oj=(0,e.u)(),this.Wj=!1,this.Xj=!1,this.Yj=!1,this.Zg=new a.R(this.ah.bind(this)),this.$j=void 0,this.ok=void 0,this.ak(),(0,e.e)(this.bk.bind(this)),(0,e.o)(this.qj.bind(this))}get Ma(){return this.Qb.media}get Pb(){return this.og.delegate.Pb}qj(){this.Xj=!1,this.Yj=!1,this.Zg.oc(),this.oj.empty()}ah(){let t=this.Ma.currentTime;this.og.$state.currentTime()!==t&&this.Vj(t)}ak(){this.Uj("loadstart",this.Ef),this.Uj("abort",this._j),this.Uj("emptied",this.ck),this.Uj("error",this.sd)}dk(){this.Xj||(this.oj.add(this.Uj("loadeddata",this.ek),this.Uj("loadedmetadata",this.fk),this.Uj("canplay",this.ld),this.Uj("canplaythrough",this.gk),this.Uj("durationchange",this.hk),this.Uj("play",this.pa),this.Uj("progress",this.yg),this.Uj("stalled",this.ik),this.Uj("suspend",this.jk)),this.Xj=!0)}kk(){this.Yj||(this.oj.add(this.Uj("pause",this.qa),this.Uj("playing",this.lk),this.Uj("ratechange",this.mk),this.Uj("seeked",this.zg),this.Uj("seeking",this.nk),this.Uj("ended",this.Kg),this.Uj("volumechange",this.zd),this.Uj("waiting",this.lh)),this.Yj=!0)}Uj(t,i){return(0,e.l)(this.Ma,t,i.bind(this))}pk(t){}Vj(t,i){let s={currentTime:Math.min(t,this.og.$state.seekableEnd()),played:this.Ma.played};this.Pb("time-update",s,i)}Ef(t){if(3===this.Ma.networkState){this._j(t);return}this.dk(),this.Pb("load-start",void 0,t)}_j(t){this.Pb("abort",void 0,t)}ck(){this.Pb("emptied",void 0,event)}ek(t){this.Pb("loaded-data",void 0,t)}fk(t){this.kk(),this.Pb("volume-change",{volume:this.Ma.volume,muted:this.Ma.muted},t),this.Pb("loaded-metadata",void 0,t),h.e&&(0,h.f)(this.og.$state.source())&&this.og.delegate.Og(this.Zj(),t)}Zj(){return{provider:(0,e.p)(this.og.$provider),duration:this.Ma.duration,buffered:this.Ma.buffered,seekable:this.Ma.seekable}}pa(t){this.og.$state.canPlay&&this.Pb("play",void 0,t)}qa(t){(1!==this.Ma.readyState||this.Wj)&&(this.Wj=!1,this.Zg.oc(),this.Pb("pause",void 0,t))}ld(t){this.og.delegate.Og(this.Zj(),t)}gk(t){this.og.$state.started()||this.Pb("can-play-through",this.Zj(),t)}lk(t){this.Wj=!1,this.Pb("playing",void 0,t),this.Zg.nc()}ik(t){this.Pb("stalled",void 0,t),this.Ma.readyState<3&&(this.Wj=!0,this.Pb("waiting",void 0,t))}lh(t){this.Ma.readyState<3&&(this.Wj=!0,this.Pb("waiting",void 0,t))}Kg(t){if(this.Zg.oc(),this.Vj(this.Ma.duration,t),this.Pb("end",void 0,t),this.og.$state.loop()){let t=(0,e.k)(this.Ma.controls);t&&(this.Ma.controls=!1)}}bk(){this.og.$state.paused()&&(0,e.l)(this.Ma,"timeupdate",this.Ig.bind(this))}Ig(t){this.Vj(this.Ma.currentTime,t)}hk(t){this.og.$state.ended()&&this.Vj(this.Ma.duration,t),this.Pb("duration-change",this.Ma.duration,t)}zd(t){let i={volume:this.Ma.volume,muted:this.Ma.muted};this.Pb("volume-change",i,t)}zg(t){this.Vj(this.Ma.currentTime,t),this.Pb("seeked",this.Ma.currentTime,t),Math.trunc(this.Ma.currentTime)===Math.trunc(this.Ma.duration)&&(0,h.g)(this.Ma.duration)>(0,h.g)(this.Ma.currentTime)&&(this.Vj(this.Ma.duration,t),this.Ma.ended||this.og.player.dispatch(new e.D("media-play-request",{trigger:t})))}nk(t){this.Pb("seeking",this.Ma.currentTime,t)}yg(t){let i={buffered:this.Ma.buffered,seekable:this.Ma.seekable};this.Pb("progress",i,t)}jk(t){this.Pb("suspend",void 0,t)}mk(t){this.Pb("rate-change",this.Ma.playbackRate,t)}sd(t){let i=this.Ma.error;if(!i)return;let s={message:i.message,code:i.code,mediaError:i};this.Pb("error",s,t)}}class d{constructor(t,i){this.Qb=t,this.og=i,this.Oj.onaddtrack=this.Qj.bind(this),this.Oj.onremovetrack=this.Rj.bind(this),this.Oj.onchange=this.Sj.bind(this),(0,e.l)(this.og.audioTracks,"change",this.Tj.bind(this))}get Oj(){return this.Qb.media.audioTracks}Qj(t){let i=t.track;if(""===i.label)return;let s={id:i.id+"",label:i.label,language:i.language,kind:i.kind,selected:!1};this.og.audioTracks[h.L.h](s,t),i.enabled&&(s.selected=!0)}Rj(t){let i=this.og.audioTracks.getById(t.track.id);i&&this.og.audioTracks[h.L.f](i,t)}Sj(t){let i=this.Pj();if(!i)return;let s=this.og.audioTracks.getById(i.id);s&&this.og.audioTracks[h.L.$](s,!0,t)}Pj(){return Array.from(this.Oj).find(t=>t.enabled)}Tj(t){let{current:i}=t.detail;if(!i)return;let s=this.Oj.getTrackById(i.id);if(s){let t=this.Pj();t&&(t.enabled=!1),s.enabled=!0}}}class n{constructor(t){this.Ma=t,this.scope=(0,e.c)(),this.ng=null}setup(t){new r(this,t),"audioTracks"in this.media&&new d(this,t),(0,e.o)(()=>{this.Ma.setAttribute("src",""),this.Ma.load()})}get type(){return""}get media(){return this.Ma}get currentSrc(){return this.ng}setPlaybackRate(t){this.Ma.playbackRate=t}async play(){return this.Ma.play()}async pause(){return this.Ma.pause()}setMuted(t){this.Ma.muted=t}setVolume(t){this.Ma.volume=t}setCurrentTime(t){this.Ma.currentTime=t}setPlaysinline(t){(0,e.m)(this.Ma,"playsinline",t)}async loadSource({src:t,type:i},s){this.Ma.preload=s||"",(0,h.h)(t)?this.Ma.srcObject=t:(this.Ma.srcObject=null,this.Ma.src=(0,e.b)(t)?t:window.URL.createObjectURL(t)),this.Ma.load(),this.ng={src:t,type:i}}}},7879:function(t,i,s){s.r(i),s.d(i,{AudioProvider:function(){return h}});var e=s(688);s(2265),s(4887);class h extends e.H{constructor(){super(...arguments),this.$$PROVIDER_TYPE="AUDIO"}get type(){return"audio"}setup(t){super.setup(t),"audio"===this.type&&t.delegate.Pb("provider-setup",this)}get audio(){return this.Ma}}}}]);