"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[214],{6214:function(t,i,e){e.r(i),e.d(i,{VideoProvider:function(){return u}});var s=e(9669),a=e(4915),h=e(688);e(2265),e(4887);class r{constructor(t,i){this.Ia=t,this.og=i,t.textTracks.onaddtrack=this.Oa.bind(this),(0,s.o)(this.qj.bind(this))}Oa(t){let i=t.track;if(!i||Array.from(this.Ia.children).find(t=>t.track===i))return;let e=new a.b({id:i.id,kind:i.kind,label:i.label,language:i.language,type:"vtt"});e[a.c._a]={track:i},e[a.c.Da]=2,e[a.c.Sa]=!0;let s=0,h=t=>{if(i.cues)for(let a=s;a<i.cues.length;a++)e.addCue(i.cues[a],t),s++};h(t),i.oncuechange=h,this.og.textTracks.add(e,t),e.setMode(i.mode,t)}qj(){for(let t of(this.Ia.textTracks.onaddtrack=null,this.og.textTracks)){let i=t[a.c._a]?.track;i?.oncuechange&&(i.oncuechange=null)}}}class n{constructor(t,i){this.Ia=t,this.Ma=i,this.ma=(t,i)=>{this.Ma.delegate.Pb("picture-in-picture-change",t,i)},(0,s.l)(this.Ia,"enterpictureinpicture",this.rj.bind(this)),(0,s.l)(this.Ia,"leavepictureinpicture",this.sj.bind(this))}get active(){return document.pictureInPictureElement===this.Ia}get supported(){return(0,a.j)(this.Ia)}async enter(){return this.Ia.requestPictureInPicture()}exit(){return document.exitPictureInPicture()}rj(t){this.ma(!0,t)}sj(t){this.ma(!1,t)}}class d{constructor(t,i){this.Ia=t,this.Ma=i,this.Wa="inline",(0,s.l)(this.Ia,"webkitpresentationmodechanged",this.eb.bind(this))}get wj(){return(0,a.k)(this.Ia)}async vj(t){this.Wa!==t&&this.Ia.webkitSetPresentationMode(t)}eb(t){let i=this.Wa;this.Wa=this.Ia.webkitPresentationMode,this.Ma.player?.dispatch(new s.D("video-presentation-change",{detail:this.Wa,trigger:t})),["fullscreen","picture-in-picture"].forEach(e=>{(this.Wa===e||i===e)&&this.Ma.delegate.Pb(`${e}-change`,this.Wa===e,t)})}}class c{constructor(t){this.uj=t}get active(){return"fullscreen"===this.uj.Wa}get supported(){return this.uj.wj}async enter(){this.uj.vj("fullscreen")}async exit(){this.uj.vj("inline")}}class o{constructor(t){this.uj=t}get active(){return"picture-in-picture"===this.uj.Wa}get supported(){return this.uj.wj}async enter(){this.uj.vj("picture-in-picture")}async exit(){this.uj.vj("inline")}}class u extends h.H{constructor(t,i){super(t),this.$$PROVIDER_TYPE="VIDEO",(0,s.n)(()=>{if((0,a.k)(t)){let e=new d(t,i);this.fullscreen=new c(e),this.pictureInPicture=new o(e)}else(0,a.j)(t)&&(this.pictureInPicture=new n(t,i))},this.scope)}get type(){return"video"}setup(t){super.setup(t),(0,a.m)(this.video)&&new r(this.video,t),t.textRenderers.Ra(this.video),(0,s.o)(()=>{t.textRenderers.Ra(null)}),"video"===this.type&&t.delegate.Pb("provider-setup",this)}get video(){return this.Ma}}},4924:function(t,i,e){e.d(i,{R:function(){return a}});var s=e(9669);class a{constructor(t){this.xh=t}nc(){(0,s.i)(this.Ac)&&this.Nj()}oc(){(0,s.a)(this.Ac)&&window.cancelAnimationFrame(this.Ac),this.Ac=void 0}Nj(){this.Ac=window.requestAnimationFrame(()=>{(0,s.i)(this.Ac)||(this.xh(),this.Nj())})}}},688:function(t,i,e){e.d(i,{H:function(){return d}});var s=e(9669),a=e(4915),h=e(4924);class r{constructor(t,i){this.Qb=t,this.og=i,this.oj=(0,s.u)(),this.Wj=!1,this.Xj=!1,this.Yj=!1,this.Zg=new h.R(this.ah.bind(this)),this.$j=void 0,this.ok=void 0,this.ak(),(0,s.e)(this.bk.bind(this)),(0,s.o)(this.qj.bind(this))}get Ma(){return this.Qb.media}get Pb(){return this.og.delegate.Pb}qj(){this.Xj=!1,this.Yj=!1,this.Zg.oc(),this.oj.empty()}ah(){let t=this.Ma.currentTime;this.og.$state.currentTime()!==t&&this.Vj(t)}ak(){this.Uj("loadstart",this.Ef),this.Uj("abort",this._j),this.Uj("emptied",this.ck),this.Uj("error",this.sd)}dk(){this.Xj||(this.oj.add(this.Uj("loadeddata",this.ek),this.Uj("loadedmetadata",this.fk),this.Uj("canplay",this.ld),this.Uj("canplaythrough",this.gk),this.Uj("durationchange",this.hk),this.Uj("play",this.pa),this.Uj("progress",this.yg),this.Uj("stalled",this.ik),this.Uj("suspend",this.jk)),this.Xj=!0)}kk(){this.Yj||(this.oj.add(this.Uj("pause",this.qa),this.Uj("playing",this.lk),this.Uj("ratechange",this.mk),this.Uj("seeked",this.zg),this.Uj("seeking",this.nk),this.Uj("ended",this.Kg),this.Uj("volumechange",this.zd),this.Uj("waiting",this.lh)),this.Yj=!0)}Uj(t,i){return(0,s.l)(this.Ma,t,i.bind(this))}pk(t){}Vj(t,i){let e={currentTime:Math.min(t,this.og.$state.seekableEnd()),played:this.Ma.played};this.Pb("time-update",e,i)}Ef(t){if(3===this.Ma.networkState){this._j(t);return}this.dk(),this.Pb("load-start",void 0,t)}_j(t){this.Pb("abort",void 0,t)}ck(){this.Pb("emptied",void 0,event)}ek(t){this.Pb("loaded-data",void 0,t)}fk(t){this.kk(),this.Pb("volume-change",{volume:this.Ma.volume,muted:this.Ma.muted},t),this.Pb("loaded-metadata",void 0,t),a.e&&(0,a.f)(this.og.$state.source())&&this.og.delegate.Og(this.Zj(),t)}Zj(){return{provider:(0,s.p)(this.og.$provider),duration:this.Ma.duration,buffered:this.Ma.buffered,seekable:this.Ma.seekable}}pa(t){this.og.$state.canPlay&&this.Pb("play",void 0,t)}qa(t){(1!==this.Ma.readyState||this.Wj)&&(this.Wj=!1,this.Zg.oc(),this.Pb("pause",void 0,t))}ld(t){this.og.delegate.Og(this.Zj(),t)}gk(t){this.og.$state.started()||this.Pb("can-play-through",this.Zj(),t)}lk(t){this.Wj=!1,this.Pb("playing",void 0,t),this.Zg.nc()}ik(t){this.Pb("stalled",void 0,t),this.Ma.readyState<3&&(this.Wj=!0,this.Pb("waiting",void 0,t))}lh(t){this.Ma.readyState<3&&(this.Wj=!0,this.Pb("waiting",void 0,t))}Kg(t){if(this.Zg.oc(),this.Vj(this.Ma.duration,t),this.Pb("end",void 0,t),this.og.$state.loop()){let t=(0,s.k)(this.Ma.controls);t&&(this.Ma.controls=!1)}}bk(){this.og.$state.paused()&&(0,s.l)(this.Ma,"timeupdate",this.Ig.bind(this))}Ig(t){this.Vj(this.Ma.currentTime,t)}hk(t){this.og.$state.ended()&&this.Vj(this.Ma.duration,t),this.Pb("duration-change",this.Ma.duration,t)}zd(t){let i={volume:this.Ma.volume,muted:this.Ma.muted};this.Pb("volume-change",i,t)}zg(t){this.Vj(this.Ma.currentTime,t),this.Pb("seeked",this.Ma.currentTime,t),Math.trunc(this.Ma.currentTime)===Math.trunc(this.Ma.duration)&&(0,a.g)(this.Ma.duration)>(0,a.g)(this.Ma.currentTime)&&(this.Vj(this.Ma.duration,t),this.Ma.ended||this.og.player.dispatch(new s.D("media-play-request",{trigger:t})))}nk(t){this.Pb("seeking",this.Ma.currentTime,t)}yg(t){let i={buffered:this.Ma.buffered,seekable:this.Ma.seekable};this.Pb("progress",i,t)}jk(t){this.Pb("suspend",void 0,t)}mk(t){this.Pb("rate-change",this.Ma.playbackRate,t)}sd(t){let i=this.Ma.error;if(!i)return;let e={message:i.message,code:i.code,mediaError:i};this.Pb("error",e,t)}}class n{constructor(t,i){this.Qb=t,this.og=i,this.Oj.onaddtrack=this.Qj.bind(this),this.Oj.onremovetrack=this.Rj.bind(this),this.Oj.onchange=this.Sj.bind(this),(0,s.l)(this.og.audioTracks,"change",this.Tj.bind(this))}get Oj(){return this.Qb.media.audioTracks}Qj(t){let i=t.track;if(""===i.label)return;let e={id:i.id+"",label:i.label,language:i.language,kind:i.kind,selected:!1};this.og.audioTracks[a.L.h](e,t),i.enabled&&(e.selected=!0)}Rj(t){let i=this.og.audioTracks.getById(t.track.id);i&&this.og.audioTracks[a.L.f](i,t)}Sj(t){let i=this.Pj();if(!i)return;let e=this.og.audioTracks.getById(i.id);e&&this.og.audioTracks[a.L.$](e,!0,t)}Pj(){return Array.from(this.Oj).find(t=>t.enabled)}Tj(t){let{current:i}=t.detail;if(!i)return;let e=this.Oj.getTrackById(i.id);if(e){let t=this.Pj();t&&(t.enabled=!1),e.enabled=!0}}}class d{constructor(t){this.Ma=t,this.scope=(0,s.c)(),this.ng=null}setup(t){new r(this,t),"audioTracks"in this.media&&new n(this,t),(0,s.o)(()=>{this.Ma.setAttribute("src",""),this.Ma.load()})}get type(){return""}get media(){return this.Ma}get currentSrc(){return this.ng}setPlaybackRate(t){this.Ma.playbackRate=t}async play(){return this.Ma.play()}async pause(){return this.Ma.pause()}setMuted(t){this.Ma.muted=t}setVolume(t){this.Ma.volume=t}setCurrentTime(t){this.Ma.currentTime=t}setPlaysinline(t){(0,s.m)(this.Ma,"playsinline",t)}async loadSource({src:t,type:i},e){this.Ma.preload=e||"",(0,a.h)(t)?this.Ma.srcObject=t:(this.Ma.srcObject=null,this.Ma.src=(0,s.b)(t)?t:window.URL.createObjectURL(t)),this.Ma.load(),this.ng={src:t,type:i}}}}}]);