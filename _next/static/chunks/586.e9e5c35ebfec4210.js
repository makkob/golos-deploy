"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[586],{8002:function(t,e,s){s.d(e,{E:function(){return g},t:function(){return h}});var i=s(9669),r=s(4915);function h(t,e=3e3){let s=(0,i.g)();return setTimeout(()=>{let e=t();e&&s.reject(e)},e),s}class g{constructor(t){this.Kj=t,this.Dg=(0,i.s)(""),this.referrerPolicy=null,t.setAttribute("frameBorder","0"),t.setAttribute("allow","autoplay; fullscreen; encrypted-media; picture-in-picture; accelerometer; gyroscope"),null!==this.referrerPolicy&&t.setAttribute("referrerpolicy",this.referrerPolicy)}get iframe(){return this.Kj}setup(t){(0,i.e)(this.od.bind(this)),(0,i.l)(window,"message",this.Lj.bind(this)),(0,i.l)(this.Kj,"load",this.Ff.bind(this))}od(){let t=this.Dg();if(!t.length){this.Kj.setAttribute("src","");return}let e=(0,i.p)(()=>this.Ng());this.Kj.setAttribute("src",(0,r.a)(t,e))}Gg(t,e){this.Kj.contentWindow?.postMessage(JSON.stringify(t),e??"*")}Lj(t){let e=this.wg(),s=t.source===this.Kj?.contentWindow&&(!(0,i.b)(e)||e===t.origin);if(s){try{let e=JSON.parse(t.data);e&&this.Sg(e,t);return}catch(t){}t.data&&this.Sg(t.data,t)}}}},3586:function(t,e,s){s.r(e),s.d(e,{YouTubeProvider:function(){return a}});var i=s(9669),r=s(4915),h=s(8002);s(2265),s(4887);let g={Jg:0,Mg:1,Rg:2,Pg:3,Qg:5},o=class t extends h.E{constructor(){super(...arguments),this.scope=(0,i.c)(),this.sg=(0,i.s)(""),this.J=-1,this.tg=-1,this.ug=0,this.vg=new r.T(0,0),this.ng=null,this.pg=null,this.qg=null,this.$$PROVIDER_TYPE="YOUTUBE",this.language="en",this.color="red",this.cookies=!1}get Pb(){return this.og.delegate.Pb}get currentSrc(){return this.ng}get type(){return"video"}get videoId(){return this.sg()}preconnect(){let t=[this.wg(),"https://www.google.com","https://i.ytimg.com","https://googleads.g.doubleclick.net","https://static.doubleclick.net"];for(let e of t)(0,r.p)(e,"preconnect")}setup(t){this.og=t,super.setup(t),(0,i.e)(this.Ag.bind(this)),(0,i.e)(this.Bg.bind(this)),this.Pb("provider-setup",this)}async play(){let{paused:t}=this.og.$state;if((0,i.p)(t))return this.pg||(this.pg=(0,h.t)(()=>{if(this.pg=null,t())return"Timed out."}),this.rg("playVideo")),this.pg.promise}async pause(){let{paused:t}=this.og.$state;if(!(0,i.p)(t))return this.qg||(this.qg=(0,h.t)(()=>{this.qg=null,t()}),this.rg("pauseVideo")),this.qg.promise}setMuted(t){t?this.rg("mute"):this.rg("unMute")}setCurrentTime(t){this.rg("seekTo",t)}setVolume(t){this.rg("setVolume",100*t)}setPlaybackRate(t){this.rg("setPlaybackRate",t)}async loadSource(e){if(!(0,i.b)(e.src)){this.ng=null,this.sg.set("");return}let s=e.src.match(t.Cg)?.[1];this.sg.set(s??""),this.ng=e}wg(){return this.cookies?"https://www.youtube.com":"https://www.youtube-nocookie.com"}Ag(){this.j();let t=this.sg();if(!t){this.Dg.set("");return}this.Dg.set(`${this.wg()}/embed/${t}`)}Bg(){let e=this.sg(),s=t.xg;if(!e)return;if(s.has(e)){let t=s.get(e);this.Pb("poster-change",t);return}let i=new AbortController;return this.Eg(e,i),()=>{i.abort()}}async Eg(e,s){try{for(let i of["maxresdefault","sddefault","hqdefault"])for(let r of[!0,!1]){let h=this.Fg(e,i,r),g=await fetch(h,{mode:"no-cors",signal:s.signal});if(g.status<400){t.xg.set(e,h),this.Pb("poster-change",h);return}}}catch(t){}this.Pb("poster-change","")}Fg(t,e,s){return`https://i.ytimg.com/${s?"vi_webp":"vi"}/${t}/${e}.${s?"webp":"jpg"}`}Ng(){let{keyDisabled:t}=this.og.$props,{$iosControls:e}=this.og,{controls:s,muted:i,playsinline:r}=this.og.$state,h=s()||e();return{autoplay:0,cc_lang_pref:this.language,cc_load_policy:h?1:void 0,color:this.color,controls:h?1:0,disablekb:!h||t()?1:0,enablejsapi:1,fs:1,hl:this.language,iv_load_policy:h?1:3,mute:i()?1:0,playsinline:r()?1:0}}rg(t,e){this.Gg({event:"command",func:t,args:e?[e]:void 0})}Ff(){window.setTimeout(()=>this.Gg({event:"listening"}),100)}Hg(t){this.og.delegate.Og(void 0,t)}qa(t){this.qg?.resolve(),this.qg=null,this.Pb("pause",void 0,t)}Ig(t,e){let{duration:s,currentTime:i}=this.og.$state,h=this.J===g.Jg?s():t,o={currentTime:h,played:this.ug>=h?this.vg:this.vg=new r.T(0,this.ug)};this.Pb("time-update",o,e),Math.abs(h-i())>1&&this.Pb("seeking",h,e)}yg(t,e,s){let i={buffered:new r.T(0,t),seekable:e};this.Pb("progress",i,s);let{seeking:h,currentTime:g}=this.og.$state;h()&&t>g()&&this.zg(s)}zg(t){let{paused:e,currentTime:s}=this.og.$state;window.clearTimeout(this.tg),this.tg=window.setTimeout(()=>{this.Pb("seeked",s(),t),this.tg=-1},e()?100:0)}Kg(t){let{seeking:e}=this.og.$state;e()&&this.zg(t),this.Pb("end",void 0,t)}Lg(t,e){let{paused:s}=this.og.$state,i=t===g.Mg,r=t===g.Pg;switch(r&&this.Pb("waiting",void 0,e),s()&&(r||i)&&(this.pg?.resolve(),this.pg=null,this.Pb("play",void 0,e)),t){case g.Qg:this.Hg(e);break;case g.Mg:this.Pb("playing",void 0,e);break;case g.Rg:this.qa(e);break;case g.Jg:this.Kg(e)}this.J=t}Sg({info:t},e){if(!t)return;let{title:s,duration:h,playbackRate:g}=this.og.$state;if((0,i.d)(t.videoData)&&t.videoData.title!==s()&&this.Pb("title-change",t.videoData.title,e),(0,i.a)(t.duration)&&t.duration!==h()){if((0,i.a)(t.videoLoadedFraction)){let s=t.progressState?.loaded??t.videoLoadedFraction*t.duration,i=new r.T(0,t.duration);this.yg(s,i,e)}this.Pb("duration-change",t.duration,e)}if((0,i.a)(t.playbackRate)&&t.playbackRate!==g()&&this.Pb("rate-change",t.playbackRate,e),t.progressState){let{current:s,seekableStart:i,seekableEnd:g,loaded:o,duration:a}=t.progressState;this.Ig(s,e),this.yg(o,new r.T(i,g),e),a!==h()&&this.Pb("duration-change",a,e)}if((0,i.a)(t.volume)&&(0,i.f)(t.muted)){let s={muted:t.muted,volume:t.volume/100};this.Pb("volume-change",s,e)}(0,i.a)(t.playerState)&&t.playerState!==this.J&&this.Lg(t.playerState,e)}j(){this.J=-1,this.tg=-1,this.ug=0,this.vg=new r.T(0,0),this.pg=null,this.qg=null}};o.Cg=/(?:youtu\.be|youtube|youtube\.com|youtube-nocookie\.com)\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=|)((?:\w|-){11})/,o.xg=new Map;let a=o}}]);