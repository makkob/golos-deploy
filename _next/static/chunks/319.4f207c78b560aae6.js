"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[319],{8002:function(t,e,i){i.d(e,{E:function(){return a},t:function(){return r}});var s=i(9669),h=i(4915);function r(t,e=3e3){let i=(0,s.g)();return setTimeout(()=>{let e=t();e&&i.reject(e)},e),i}class a{constructor(t){this.Kj=t,this.Dg=(0,s.s)(""),this.referrerPolicy=null,t.setAttribute("frameBorder","0"),t.setAttribute("allow","autoplay; fullscreen; encrypted-media; picture-in-picture; accelerometer; gyroscope"),null!==this.referrerPolicy&&t.setAttribute("referrerpolicy",this.referrerPolicy)}get iframe(){return this.Kj}setup(t){(0,s.e)(this.od.bind(this)),(0,s.l)(window,"message",this.Lj.bind(this)),(0,s.l)(this.Kj,"load",this.Ff.bind(this))}od(){let t=this.Dg();if(!t.length){this.Kj.setAttribute("src","");return}let e=(0,s.p)(()=>this.Ng());this.Kj.setAttribute("src",(0,h.a)(t,e))}Gg(t,e){this.Kj.contentWindow?.postMessage(JSON.stringify(t),e??"*")}Lj(t){let e=this.wg(),i=t.source===this.Kj?.contentWindow&&(!(0,s.b)(e)||e===t.origin);if(i){try{let e=JSON.parse(t.data);e&&this.Sg(e,t);return}catch(t){}t.data&&this.Sg(t.data,t)}}}},4924:function(t,e,i){i.d(e,{R:function(){return h}});var s=i(9669);class h{constructor(t){this.xh=t}nc(){(0,s.i)(this.Ac)&&this.Nj()}oc(){(0,s.a)(this.Ac)&&window.cancelAnimationFrame(this.Ac),this.Ac=void 0}Nj(){this.Ac=window.requestAnimationFrame(()=>{(0,s.i)(this.Ac)||(this.xh(),this.Nj())})}}},8319:function(t,e,i){i.r(e),i.d(e,{VimeoProvider:function(){return g}});var s=i(9669),h=i(4915),r=i(4924),a=i(8002);i(2265),i(4887);let n=["bufferend","bufferstart","durationchange","ended","enterpictureinpicture","error","fullscreenchange","leavepictureinpicture","loaded","pause","play","playbackratechange","qualitychange","seeked","seeking","timeupdate","volumechange","waiting"],o=class t extends a.E{constructor(){super(...arguments),this.scope=(0,s.c)(),this.ug=0,this.vg=new h.T(0,0),this.Vg=new h.T(0,0),this.pg=null,this.qg=null,this.Xg=null,this.sg=(0,s.s)(""),this.Wg=(0,s.s)(!1),this.Yg=null,this.ng=null,this.$g=null,this.Zg=new r.R(this.ah.bind(this)),this.$$PROVIDER_TYPE="VIMEO",this.cookies=!1,this.title=!0,this.byline=!0,this.portrait=!0,this.color="00ADEF"}get Pb(){return this.og.delegate.Pb}get type(){return"video"}get currentSrc(){return this.ng}get videoId(){return this.sg()}get hash(){return this.Yg}get isPro(){return this.Wg()}preconnect(){let t=[this.wg(),"https://i.vimeocdn.com","https://f.vimeocdn.com","https://fresnel.vimeocdn.com"];for(let e of t)(0,h.p)(e,"preconnect")}setup(t){this.og=t,super.setup(t),(0,s.e)(this.Ag.bind(this)),(0,s.e)(this.bh.bind(this)),(0,s.e)(this.ch.bind(this)),this.Pb("provider-setup",this)}destroy(){this.j(),this.rg("destroy")}async play(){let{paused:t}=this.og.$state;if((0,s.p)(t))return this.pg||(this.pg=(0,a.t)(()=>{if(this.pg=null,t())return"Timed out."}),this.rg("play")),this.pg.promise}async pause(){let{paused:t}=this.og.$state;if(!(0,s.p)(t))return this.qg||(this.qg=(0,a.t)(()=>{if(this.qg=null,!t())return"Timed out."}),this.rg("pause")),this.qg.promise}setMuted(t){this.rg("setMuted",t)}setCurrentTime(t){this.rg("seekTo",t)}setVolume(t){this.rg("setVolume",t)}setPlaybackRate(t){this.rg("setPlaybackRate",t)}async loadSource(e){if(!(0,s.b)(e.src)){this.ng=null,this.Yg=null,this.sg.set("");return}let i=e.src.match(t.Cg),h=i?.[1],r=i?.[2];this.sg.set(h??""),this.Yg=r??null,this.ng=e}Ag(){this.j();let t=this.sg();if(!t){this.Dg.set("");return}this.Dg.set(`${this.wg()}/video/${t}`)}bh(){let e=this.Dg(),i=this.sg(),h=t.dh,r=h.get(i);if(!i)return;let a=(0,s.g)();if(this.Xg=a,r){a.resolve(r);return}let n=`https://vimeo.com/api/oembed.json?url=${e}`,o=new AbortController;return window.fetch(n,{mode:"cors",signal:o.signal}).then(t=>t.json()).then(t=>{let e=t?.thumbnail_url?.match(/vimeocdn.com\/video\/(.*)?_/)?.[1],s=e?`https://i.vimeocdn.com/video/${e}_1920x1080.webp`:"",r={title:t?.title??"",duration:t?.duration??0,poster:s,pro:"basic"!==t.account_type};h.set(i,r),a.resolve(r)}).catch(t=>{a.reject(),this.Pb("error",{message:`Failed to fetch vimeo video info from \`${n}\`.`,code:1})}),()=>{a.reject(),o.abort()}}ch(){let t=this.Wg(),{$state:e,qualities:i}=this.og;if(e.canSetPlaybackRate.set(t),i[h.L.g](!t),t)return(0,s.l)(i,"change",()=>{if(i.auto)return;let t=i.selected?.id;t&&this.rg("setQuality",t)})}wg(){return"https://player.vimeo.com"}Ng(){let{$iosControls:t}=this.og,{keyDisabled:e}=this.og.$props,{controls:i,muted:s,playsinline:h}=this.og.$state,r=i()||t();return{title:this.title,byline:this.byline,color:this.color,portrait:this.portrait,controls:r,h:this.hash,keyboard:r&&!e(),transparent:!0,muted:s(),playsinline:h(),dnt:!this.cookies}}ah(){this.rg("getCurrentTime")}Ig(t,e){let{currentTime:i,paused:s,bufferedEnd:r}=this.og.$state;if(i()===t)return;let a=i(),n={currentTime:t,played:this.ug>=t?this.vg:this.vg=new h.T(0,this.ug)};this.Pb("time-update",n,e),Math.abs(a-t)>1.5&&(this.Pb("seeking",t,e),!s()&&r()<t&&this.Pb("waiting",void 0,e))}zg(t,e){this.Pb("seeked",t,e)}Hg(t){let e=this.sg();this.Xg?.promise.then(e=>{if(!e)return;let{title:i,poster:s,duration:r,pro:a}=e;this.Zg.nc(),this.Wg.set(a),this.Vg=new h.T(0,r),this.Pb("poster-change",s,t),this.Pb("title-change",i,t),this.Pb("duration-change",r,t);let n={buffered:new h.T(0,0),seekable:this.Vg,duration:r};this.og.delegate.Og(n,t);let{$iosControls:o}=this.og,{controls:g}=this.og.$state,l=g()||o();l||this.rg("_hideOverlay"),this.rg("getQualities")}).catch(t=>{e===this.sg()&&this.Pb("error",{message:`Failed to fetch oembed data: ${t}`,code:2})})}eh(t,e,i){switch(t){case"getCurrentTime":this.Ig(e,i);break;case"setMuted":this.zd((0,s.p)(this.og.$state.volume),e,i);break;case"getChapters":break;case"getQualities":this.fh(e,i)}}gh(){for(let t of n)this.rg("addEventListener",t)}qa(t){this.Pb("pause",void 0,t),this.qg?.resolve(),this.qg=null}pa(t){this.Pb("play",void 0,t),this.pg?.resolve(),this.pg=null}hh(t){let{paused:e}=this.og.$state;e()||this.Pb("playing",void 0,t)}ih(t,e){let i={buffered:new h.T(0,t),seekable:this.Vg};this.Pb("progress",i,e)}jh(t){this.Pb("waiting",void 0,t)}kh(t){let{paused:e}=this.og.$state;e()||this.Pb("playing",void 0,t)}lh(t){let{paused:e}=this.og.$state;e()&&this.Pb("play",void 0,t),this.Pb("waiting",void 0,t)}zd(t,e,i){this.Pb("volume-change",{volume:t,muted:e},i)}fh(t,e){for(let i of(this.og.qualities[h.Q.ub]=t.some(t=>"auto"===t.id)?()=>{this.rg("setQuality","auto")}:void 0,t)){if("auto"===i.id)continue;let t=+i.id.slice(0,-1);isNaN(t)||this.og.qualities[h.L.h]({id:i.id,width:t*(16/9),height:t,codec:"avc1,h.264",bitrate:-1},e)}this._g(t.find(t=>t.active),e)}_g({id:t}={},e){if(!t)return;let i="auto"===t,s=this.og.qualities.toArray().find(e=>e.id===t);i?(this.og.qualities[h.Q.tb](i,e),this.og.qualities[h.L.$](void 0,!0,e)):this.og.qualities[h.L.$](s,!0,e)}mh(t,e,i){switch(t){case"ready":this.gh();break;case"loaded":this.Hg(i);break;case"play":this.pa(i);break;case"playprogress":this.hh(i);break;case"pause":this.qa(i);break;case"loadprogress":this.ih(e.seconds,i);break;case"waiting":this.lh(i);break;case"bufferstart":this.jh(i);break;case"bufferend":this.kh(i);break;case"volumechange":this.zd(e.volume,(0,s.p)(this.og.$state.muted),i);break;case"durationchange":this.Vg=new h.T(0,e.duration),this.Pb("duration-change",e.duration,i);break;case"playbackratechange":this.Pb("rate-change",e.playbackRate,i);break;case"qualitychange":this._g(e,i);break;case"fullscreenchange":this.Pb("fullscreen-change",e.fullscreen,i);break;case"enterpictureinpicture":this.Pb("picture-in-picture-change",!0,i);break;case"leavepictureinpicture":this.Pb("picture-in-picture-change",!1,i);break;case"ended":this.Pb("end",void 0,i);break;case"error":this.sd(e,i);break;case"seeked":this.zg(e.seconds,i)}}sd(t,e){if("play"===t.method){this.pg?.reject(t.message);return}}Sg(t,e){t.event?this.mh(t.event,t.data,e):t.method&&this.eh(t.method,t.value,e)}Ff(){}rg(t,e){return this.Gg({method:t,value:e})}j(){this.Zg.oc(),this.ug=0,this.vg=new h.T(0,0),this.Vg=new h.T(0,0),this.pg=null,this.qg=null,this.Xg=null,this.$g=null,this.Wg.set(!1)}};o.Cg=/(?:https:\/\/)?(?:player\.)?vimeo(?:\.com)?\/(?:video\/)?(\d+)(?:\?hash=(.*))?/,o.dh=new Map;let g=o}}]);