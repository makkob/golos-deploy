"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[147],{9147:function(t,e,i){i.r(e),i.d(e,{YouTubeProvider:function(){return l}});var s,h,g=i(2760),a=i(4224);i(2265),i(4887);class r{constructor(t){this.Yi=t,this.zg=(0,g.s)(""),t.setAttribute("frameBorder","0"),t.setAttribute("allowfullscreen",""),t.setAttribute("allow","autoplay; encrypted-media; picture-in-picture;")}setup(t){(0,g.e)(this.id.bind(this)),(0,g.l)(window,"message",this.Zi.bind(this)),(0,g.l)(this.Yi,"load",this.Jf.bind(this))}id(){let t=this.zg();if(!t.length){this.Yi.setAttribute("src","");return}let e=(0,g.p)(()=>this.Gg());this.Yi.setAttribute("src",(0,a.b)(t,e))}Cg(t,e){this.Yi.contentWindow?.postMessage(JSON.stringify(t),e??"*")}Zi(t){let e=this.rg(),i=t.source===this.Yi?.contentWindow&&(!(0,g.a)(e)||e===t.origin);if(i){try{let e=JSON.parse(t.data);e&&this.Ig(e,t);return}catch(t){}t.data&&this.Ig(t.data,t)}}}var o=((s=o||{}).Play="playVideo",s.Pause="pauseVideo",s.Seek="seekTo",s.Mute="mute",s.Unmute="unMute",s.SetVolume="setVolume",s.SetPlaybackRate="setPlaybackRate",s),n=((h=n||{})[h.Unstarted=-1]="Unstarted",h[h.Ended=0]="Ended",h[h.Playing=1]="Playing",h[h.Paused=2]="Paused",h[h.Buffering=3]="Buffering",h[h.Cued=5]="Cued",h);let u=class t extends r{constructor(){super(...arguments),this.$$PROVIDER_TYPE="YOUTUBE",this.scope=(0,g.d)(),this.jg=(0,g.s)(""),this.J=-1,this.eg=!0,this.og=!1,this.yb=!1,this.kg=-1,this.vg=1,this.Pa=0,this.lg=0,this.mg=new a.d(0,0),this.ng=1,this.pg=!1,this.qg=null,this.hg=null,this.ig=null,this.language="en",this.color="red",this.cookies=!1}get Kb(){return this.fg.delegate.Kb}get currentSrc(){return this.qg}get type(){return"video"}get videoId(){return this.jg()}get paused(){return this.eg}get muted(){return this.og}set muted(t){t?this.gg(o.Mute):this.gg(o.Unmute)}get currentTime(){return this.Pa}set currentTime(t){this.gg(o.Seek,t)}get volume(){return this.vg}set volume(t){this.gg(o.SetVolume,100*t)}get playsinline(){return this.pg}set playsinline(t){this.pg=t}get playbackRate(){return this.ng}set playbackRate(t){this.gg(o.SetPlaybackRate,t)}preconnect(){let t=[this.rg(),"https://www.google.com","https://i.ytimg.com","https://googleads.g.doubleclick.net","https://static.doubleclick.net"];for(let e of t)(0,a.p)(e,"preconnect")}setup(t){this.fg=t,super.setup(t),(0,g.e)(this.wg.bind(this)),(0,g.e)(this.xg.bind(this)),this.Kb("provider-setup",this)}async play(){if(this.eg)return this.hg||(this.hg=(0,g.f)(),setTimeout(()=>{this.eg&&this.hg?.reject("Timed Out.")},3e3)),this.gg(o.Play),this.hg.promise}async pause(){if(!this.eg)return this.ig||(this.ig=(0,g.f)(),setTimeout(()=>{this.eg||this.ig?.reject("Timed out.")},3e3)),this.gg(o.Pause),this.ig.promise}async loadSource(e){if(!(0,g.a)(e.src))return;let i=e.src.match(t.yg)?.[1];this.jg.set(i??""),this.qg=e}rg(){return this.cookies?"https://www.youtube.com":"https://www.youtube-nocookie.com"}wg(){this.j();let t=this.jg();if(!t){this.zg.set("");return}this.zg.set(`${this.rg()}/embed/${this.videoId}`)}xg(){let e=this.jg(),i=t.sg;if(!e){this.Kb("poster-change","");return}if(i.has(e)){let t=i.get(e);this.Kb("poster-change",t);return}let s=new AbortController;return this.Ag(e,s),()=>s.abort()}async Ag(e,i){try{for(let s of["maxresdefault","sddefault","hqdefault"])for(let h of[!0,!1]){let g=this.Bg(e,s,h),a=await fetch(g,{mode:"no-cors",signal:i.signal});if(a.status<400){t.sg.set(e,g),this.Kb("poster-change",g);return}}}catch(t){}this.Kb("poster-change","")}Bg(t,e,i){return`https://i.ytimg.com/${i?"vi_webp":"vi"}/${t}/${e}.${i?"webp":"jpg"}`}Gg(){let{keyDisabled:t}=this.fg.$props,{$iosControls:e}=this.fg,{controls:i,muted:s,playsinline:h}=this.fg.$state,g=i()||e();return{autoplay:0,cc_lang_pref:this.language,cc_load_policy:g?1:void 0,color:this.color,controls:g?1:0,disablekb:!g||t()?1:0,enablejsapi:1,fs:1,hl:this.language,iv_load_policy:g?1:3,mute:s()?1:0,playsinline:h()?1:0}}gg(t,e){this.Cg({event:"command",func:t,args:e?[e]:void 0})}Jf(){window.setTimeout(()=>this.Cg({event:"listening"}),100)}Dg(t){this.fg.delegate.Hg(void 0,t)}Eg(t,e){let i=t===n.Playing,s=t===n.Buffering;switch(s&&this.Kb("waiting",void 0,e),this.eg&&(s||i)&&(this.eg=!1,this.hg?.resolve(),this.hg=null,this.Kb("play",void 0,e)),t){case n.Cued:this.Dg(e);break;case n.Playing:this.Kb("playing",void 0,e);break;case n.Paused:this.eg=!0,this.ig?.resolve(),this.ig=null,this.Kb("pause",void 0,e);break;case n.Ended:this.yb&&this.tg(e),this.fg.$state.loop()?window.setTimeout(()=>{this.gg(o.Play)},200):(this.eg=!0,this.Kb("pause",void 0,e),this.Kb("ended",void 0,e))}this.J=t}Fg(t,e){let{duration:i}=this.fg.$state,s=this.J===n.Ended?i():t,h={currentTime:s,played:this.lg>=s?this.mg:this.mg=new a.d(0,this.lg)};this.Kb("time-update",h,e),Math.abs(s-this.Pa)>1&&(this.yb=!0,this.Kb("seeking",s,e)),this.Pa=s}ug(t,e,i){let s={buffered:new a.d(0,t),seekable:e};this.Kb("progress",s,i),this.yb&&t>this.Pa&&this.tg(i)}tg(t){this.yb=!1,window.clearTimeout(this.kg),this.kg=window.setTimeout(()=>{this.Kb("seeked",this.Pa,t),this.kg=-1},this.eg?100:0)}Ig({info:t},e){if(!t)return;let{title:i,duration:s,playbackRate:h}=this.fg.$state;if((0,g.g)(t.videoData)&&t.videoData.title!==i()&&this.Kb("title-change",t.videoData.title,e),(0,g.h)(t.duration)&&t.duration!==s()){if((0,g.h)(t.videoLoadedFraction)){let i=t.progressState?.loaded??t.videoLoadedFraction*t.duration,s=new a.d(0,t.duration);this.ug(i,s,e)}this.Kb("duration-change",t.duration,e)}if((0,g.h)(t.playbackRate)&&t.playbackRate!==h()&&(this.ng=t.playbackRate,this.Kb("rate-change",t.playbackRate,e)),t.progressState){let{current:i,seekableStart:h,seekableEnd:g,loaded:r,duration:o}=t.progressState;this.Fg(i,e),this.ug(r,new a.d(h,g),e),o!==s()&&this.Kb("duration-change",o,e)}if((0,g.h)(t.volume)&&(0,g.j)(t.muted)){let i={volume:t.volume/100,muted:t.muted};this.og=t.muted,this.Kb("volume-change",i,e)}(0,g.h)(t.playerState)&&t.playerState!==this.J&&this.Eg(t.playerState,e)}j(){this.J=-1,this.eg=!0,this.yb=!1,this.kg=-1,this.lg=0,this.mg=new a.d(0,0),this.Pa=0,this.ng=1,this.hg=null,this.ig=null}};u.sg=new Map,u.yg=/(?:youtu\.be|youtube|youtube\.com|youtube-nocookie\.com)\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=|)((?:\w|-){11})/;let l=u}}]);